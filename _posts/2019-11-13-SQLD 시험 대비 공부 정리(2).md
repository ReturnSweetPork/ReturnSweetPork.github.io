# SQLD 시험 대비 공부 정리(2)

## 4. 관계

### 관계란?

- 엔터티의 인스턴스 사이에 논리적인 연관성으로서 존재의 형태로서나 행위로서 서로에게 연관성이 부여된 상태.

### 패어링?

- 엔터티 내에 인스턴스와 인스턴스 사이에 관계가 설정되어 있는 어커런스를 관계페어링이라고 한다.

### 관계표기법

- 관계명 - 이름
- 관계차수 - 1:1/1:M
- 관계선택사양 - 필수/선택관계

### 관계 체크사항

- 두개의 엔터티 사이에 관심 있는 연관규칙이 존재하는가
- 두개의 엔터티 사이에 정보의 조합이 발생하는가
- 업무 기술서 및 장표에 관계연결에 대한 규칙이 서술되어있는가
- 업무기술서 및 장표에 관계연결이 가능하게 하는 동사가 있는가(명사아님!!!!!!!)

## 5. 식별자

### 식별자란?

- 하나의 엔터티에 구성되어 있는 여러개의 속성중에 엔터티를 대표할수 있는 속성을 의미함
- 키랑 의미적으로 비슷하나 키는 물리적 모델링 단계에 사용하며 식별자는 논리적 모델링 단계에서 사용함

### 주식별자의 특징

- 엔터티 내에 모든 인스턴스들이 유일하게 구분됨
- 속성의 수는 유일성을 만족하는 최소의 수
- 자주 변하지 않는다
- 주식별자가 지정되면 반드시 값이 들어와야 한다(NULL안됨)

### 식별자의 분류

- 대표성 - 주식별자/보조식별자
- 스스로 생성 - 내부식별자/외부식별자
- 속성의 수 - 단일식별자/복합식별자
- 대체 여부 - 본질식별자/인조식별자

### 주 식별자 도출 기준

- 해당업무에서 자주 이용되는 속성인가
- 명칭, 내역 등과 같이 이름으로 된것이 아니여야 한다
- 복합으로 주 식별자를 할경우 너무 많은 속성이 삽입되어 안된다.

### 식별자 관계 vs 비식별자 관계

- 자식 엔터티에서 부모 엔터티로부터 받은 외부 식별자를 자신이 주식별자로 이용한 경우(식별자 관계)
- 자식 엔터티에서 부모 엔터티로부터 받은 외부 식별자를 부모와 연결이 되는 속성으로만 이용(비식별자 관계)

### 비식별자 관계에 의한 외부 속성 생성

- 속성이 필수가 아니다
- 생명주기가 다르다
- 각각의 엔터티가 별도의 관계이다
- 자식엔터티에서 별도의 주식별자를 생성하는것이 더 유리하다고 판단한다.

### 식별자 관계로만 설정한 경우의 문제점

- 지속적으로 식별자 관계를 연결한 데이터 모델의 PK속성의 수는 데이터 모델의 흐름이 길어질수록 증가함 -> 개발복잡 및 오류가능성 다수

### 비식별자 관계로만 설정한 경우의 문제점

- 각 엔터티간의 관계를 비식별자 관계로 설정하면 유형의 속성이 자식엔터티로 상송되지 않아 자식엔터티에서 데이터를 처리할때 쓸데없이 부모 엔터티 까지 찾아가야하는 단점이 발생

### 비식별자 관계 설정의 고려사항 

- 관계의 약함
- 자식이 독립 PK가 필요
- SQL복잡도 증가
- 개발생산성 저하

*위의 경우에는 비식별자 관계 설정을 고려한다